<!-- Container for demo purpose -->
<div *ngIf="(subStep$ | async)?.data != null; else elseBlock" onmousedown="return false">
  <div class="container my-10 mx-auto md:px-6 bg-white py-3 lg:py-[14px] rounded-2xl main-violet-first-rounded">
    <!-- Section: Design Block -->
    <section class="mb-12">
      <h1 class="mb-4 text-3xl font-bold">
        {{(subStep$ | async)?.data | globalTranslate: 'title': StrHelper.getCurrentLangByLocaleID(localeID)}}
      </h1>

      <p class="mb-6 flex items-center font-bold uppercase text-danger dark:text-danger-500">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
             class="mr-2 h-5 w-5">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z" />
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z" />
        </svg> {{'LEVEL' | translate}} {{(subStep$ | async)?.data?.level}}
      </p>
<!--            <div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 sm:hidden md:hidden lg:hidden xl:hidden 2xl:hidden mobile:flex justify-center" #mobileElement>-->
<!--                <youtube-player [width]="getWidth(mobileElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden 2xl:hidden sm:flex justify-center" #smElement>-->
<!--                <youtube-player [width]="getWidth(smElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden sm:hidden lg:hidden xl:hidden 2xl:hidden md:flex justify-center" #mdElement>-->
<!--                <youtube-player [width]="getWidth(mdElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden sm:hidden xl:hidden 2xl:hidden lg:flex justify-center" #lgElement>-->
<!--                <youtube-player [width]="getWidth(lgElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden sm:hidden 2xl:hidden xl:flex justify-center" #xlElement>-->
<!--                <youtube-player [width]="getWidth(xlElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden sm:hidden 2xl:flex justify-center" #xxlElement>-->
<!--                <youtube-player [width]="getWidth(xxlElement.offsetWidth)" [videoId]="videoId"></youtube-player>-->
<!--              </div>-->
<!--            </div>-->
<!--            <div class="my-3">-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 sm:hidden md:hidden lg:hidden xl:hidden 2xl:hidden mobile:flex justify-center" #mobileElement>-->
<!--                <youtube-player [width]="getWidth(mobileElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden 2xl:hidden sm:flex justify-center" #smElement>-->
<!--                <youtube-player [width]="getWidth(smElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden sm:hidden lg:hidden xl:hidden 2xl:hidden md:flex justify-center" #mdElement>-->
<!--                <youtube-player [width]="getWidth(mdElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden sm:hidden xl:hidden 2xl:hidden lg:flex justify-center" #lgElement>-->
<!--                <youtube-player [width]="getWidth(lgElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden sm:hidden 2xl:hidden xl:flex justify-center" #xlElement>-->
<!--                <youtube-player [width]="getWidth(xlElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--              <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden sm:hidden 2xl:flex justify-center" #xxlElement>-->
<!--                <youtube-player [width]="getWidth(xxlElement.offsetWidth)" [videoId]="shortVideoId"></youtube-player>-->
<!--              </div>-->
<!--            </div>-->
<!--      <div *ngIf="(subStep$ | async)?.data?.sub_step_video">-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 sm:hidden md:hidden lg:hidden xl:hidden 2xl:hidden mobile:flex justify-center" #mobileElement>-->
<!--          <youtube-player [width]="getWidth(mobileElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden 2xl:hidden sm:flex justify-center" #smElement>-->
<!--          <youtube-player [width]="getWidth(smElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden sm:hidden lg:hidden xl:hidden 2xl:hidden md:flex justify-center" #mdElement>-->
<!--          <youtube-player [width]="getWidth(mdElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden sm:hidden xl:hidden 2xl:hidden lg:flex justify-center" #lgElement>-->
<!--          <youtube-player [width]="getWidth(lgElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden sm:hidden 2xl:hidden xl:flex justify-center" #xlElement>-->
<!--          <youtube-player [width]="getWidth(xlElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--        <div class="rounded-[2rem] w-full shadow p-3 mobile:hidden md:hidden lg:hidden xl:hidden sm:hidden 2xl:flex justify-center" #xxlElement>-->
<!--          <youtube-player [width]="getWidth(xxlElement.offsetWidth)" [videoId]="(subStep$ | async)?.data?.sub_step_video?.url | getYoutubeID"></youtube-player>-->
<!--        </div>-->
<!--      </div>-->
      <div class="my-3" *ngIf="content">
        <div [mathjax]="content | globalTranslate: 'text': StrHelper.getCurrentLangByLocaleID(localeID) | mathjaxTransform"></div>
<!--        <markdown katex>-->
<!--          {{(subStep$ | async)?.data?.sub_step_content | globalTranslate : 'text': this.translate.currentLang}}-->
<!--        </markdown>-->
<!--        <div *ngIf="this.translate.currentLang == 'ru'">-->
<!--          <markdown katex>-->
<!--            {{content.text_ru | mathjaxTransform}}-->
<!--          </markdown>-->
<!--        </div>-->
<!--        <div *ngIf="this.translate.currentLang == 'kk'">-->
<!--          <markdown katex>-->
<!--            {{content.text_kk | mathjaxTransform}}-->
<!--          </markdown>-->
<!--        </div>-->
      </div>
    </section>

    <div class="flex justify-end">
      <div class="flex">
        <a *ngIf="(result$ | async)?.data"
           [routerLink]="StrHelper.getDashboardRouteName(RoutesName.subStepExam + '/' + (subStep$ | async)?.data?.id + '/' + localeID)"
           class="inline-block rounded-full bg-violet-first main-violet-first-rounded main-violet-first-bg px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white  transition duration-150 ease-in-out ">
          {{'RESTART_BUTTON' | translate}}
        </a>
        <a *ngIf="(result$ | async)?.data" [routerLink]="StrHelper.getDashboardRouteName(RoutesName.subStepResultExam + '/' + (subStep$ | async)?.data?.id + '/' + localeID)"
           class="ml-3 inline-block rounded-full bg-violet-first main-violet-first-rounded main-violet-first-bg px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out">
          {{'SHOW_RESULT_BUTTON' | translate}}
        </a>
      </div>
      <a *ngIf="!((result$ | async)?.data)"
         [routerLink]="StrHelper.getDashboardRouteName(RoutesName.subStepExam + '/' + (subStep$ | async)?.data?.id + '/' + localeID)"
         class="inline-block rounded-full bg-violet-first main-violet-first-rounded main-violet-first-bg px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out ">
        {{'START_TEST_BUTTON' | translate}}
      </a>
    </div>

    <!-- Section: Design Block -->
  </div>
</div>
<ng-template #elseBlock>{{'FORBIDDEN_MESSAGE' | translate}}</ng-template>
<!-- Container for demo purpose -->
