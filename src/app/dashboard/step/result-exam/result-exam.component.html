<div *ngIf="results; else elseBlock" class="container my-10 mx-auto md:px-6">
  <div
    class="mb-3 inline-flex w-full items-center rounded-lg bg-success-100 px-6 py-5 text-base text-success-700"
    role="alert">
  <span class="mr-2">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="h-5 w-5">
      <path
        fill-rule="evenodd"
        d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z"
        clip-rule="evenodd" />
    </svg>
  </span>
    {{results.is_right}} / {{results.count}}
  </div>
  <div *ngFor="let question of results?.questions"
       class="block rounded-lg bg-white p-6 my-3 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]">
    <div class="content-question">
      <h5
        class="mb-2 text-xl font-medium leading-tight text-neutral-800">
        <markdown katex>
          {{question.question.text | mathjaxTransform}}
        </markdown>
      </h5>
      <div class="my-2" *ngIf="question.question.context" [innerHTML]="question.question.context.context"></div>
      <div class="my-5">
        <div class="mb-4 block min-h-[1.5rem] pl-[1.5rem]">
          <label
            class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer" [ngStyle]="{'color': checkAnswer('a', question.result.user_answer, question.result.is_right)}">
            <markdown katex>
              a. {{question.question.answer_a | mathjaxTransform}}
            </markdown>
          </label>
        </div>
        <div class="mb-4 block min-h-[1.5rem] pl-[1.5rem]">
          <label
            class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer" [ngStyle]="{'color': checkAnswer('b', question.result.user_answer, question.result.is_right)}">
            <markdown katex>
              b. {{question.question.answer_b | mathjaxTransform}}
            </markdown>
          </label>
        </div>
        <div class="mb-4 block min-h-[1.5rem] pl-[1.5rem]">
          <label
            class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer" [ngStyle]="{'color': checkAnswer('c', question.result.user_answer, question.result.is_right)}">
            <markdown katex>
              c. {{question.question.answer_c | mathjaxTransform}}
            </markdown>
          </label>
        </div>
        <div  class="mb-4 block min-h-[1.5rem] pl-[1.5rem]">
          <label
            class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer" [ngStyle]="{'color': checkAnswer('d', question.result.user_answer, question.result.is_right)}">
            <markdown katex>
              d. {{question.question.answer_d | mathjaxTransform}}
            </markdown>
          </label>
        </div>
      </div>
    </div>
  </div>

  <a
     [routerLink]="StrHelper.getDashboardRouteName(RoutesName.subStepExam + '/' + subStepId + '/' + localeId)"
     class="inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]">
    {{'RESTART_BUTTON' | translate}}
  </a>

  <a [routerLink]="StrHelper.getDashboardRouteName(RoutesName.subStepRoute + '/' + subStepId)"
     class="ml-3 inline-block rounded bg-success px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]">
    {{'BACK_BUTTON' | translate}}
  </a>
</div>
<ng-template #elseBlock>
  {{'NO_RESULTS' | translate}}
</ng-template>
