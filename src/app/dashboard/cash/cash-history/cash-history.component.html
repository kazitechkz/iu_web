<div class="" >
  <div class="grid grid-cols-12 py-5 my-3 gap-4" id="walletInfo">
    <div class="col-span-12 md:col-span-12 lg:col-span-6 xl:col-span-6 2xl:col-span-6">
      <div class="lg:flex items-center bg-black-violet-orange-180-05 main-violet-first-rounded rounded-2xl shadow-2xl py-2">
        <div class="lg:w-6/12 flex justify-center">
          <div class="w-full max-w-[300px] bg-black rounded-2xl shadow-2xl">
            <div class="flex justify-between m-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="34"
                height="34"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="#ffffff"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <rect x="3" y="5" width="18" height="14" rx="3" />
                <line x1="3" y1="10" x2="21" y2="10" />
                <line x1="7" y1="15" x2="7.01" y2="15" />
                <line x1="11" y1="15" x2="13" y2="15" />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="34"
                height="34"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="#ffffff"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <circle cx="9.5" cy="9.5" r="5.5" fill="#fff" />
                <circle cx="14.5" cy="14.5" r="5.5" />
              </svg>
            </div>
            <div class="flex justify-center mt-4">
              <h1 class="text-gray-400 font-thin font-os">
                XXXX XXXX XXXX 1234
              </h1>
            </div>
            <div
              class="flex flex-col justfiy-end mt-4 p-4 text-gray-400 font-quick"
            >
              <p class="font-bold text-xs">12 / 24</p>
              <h4 class="uppercase tracking-wider font-semibold text-xs">
                {{userMe?.name}}
              </h4>
            </div>
          </div>
        </div>
        <div class="lg:w-6/12 px-2 text-center lg:text-left">
          <div class="my-2">
            <p class="text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl font-bold text-white">
              {{"BALANCE"|translate}}
            </p>
          </div>
          <div class="my-2">
            <p class="text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl font-bold text-white">
              {{userMe?.cash}} <i class="fa fa-tenge-sign"></i>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-span-12 md:col-span-12 lg:col-span-6 xl:col-span-6 2xl:col-span-6">
      <div class="w-full">
        <span
          (click)="dialog.getModal('instruction').open()"
          class="w-full my-3 font-bold rounded-full
          text-md lg:text-lg xl:text-xl
          cursor-pointer bg-black-violet-orange-180-05 main-violet-first-rounded p-4 transition duration-500
           hover:text-white flex items-center justify-between">
          <div class="flex text-white">
            <fa-icon [icon]="faQuestionCircle" class="mr-2"></fa-icon> <p>{{'HOW_TO_EARN' | translate}}</p>
          </div>
          <fa-icon [icon]="faChevronRight" class="mr-2 text-white"></fa-icon>
        </span>
        <span
          [routerLink]="'/'+RoutesName.cashIndex"
          class="w-full my-3 font-bold rounded-full
          text-md lg:text-lg xl:text-xl
          cursor-pointer bg-black-violet-orange-180-05 main-violet-first-rounded p-4 transition duration-500
           hover:text-white flex items-center justify-between">
          <div class="flex text-white">
            <fa-icon [icon]="faDollarSign" class="mr-2"></fa-icon> <p>{{'MY_CASHES' | translate}}</p>
          </div>
          <fa-icon [icon]="faChevronRight" class="mr-2 text-white"></fa-icon>
        </span>
      </div>
    </div>
  </div>

  <div>
    <div class="w-[200px] mb-3">
      <button
        (click)="checkPhone()"
        type="button" class="cursor-pointer transition-all duration-200 border-transparent
                      focus:outline-none focus:ring-2 focus:ring-offset-2 text-white
                      rounded-full bg-violet-first main-violet-first-rounded
                      inline-flex border items-center justify-center w-full text-sm font-bold
                      text-center py-3">{{"REQUEST_WITHDRAW"|translate}}</button>
    </div>
    <div
      *ngIf="histories.length"
      class="w-full my-3 font-bold rounded-full
          text-md lg:text-lg xl:text-xl
          bg-black-violet-orange-180-05 main-violet-first-rounded p-4 transition duration-500
          hover:text-white flex items-center justify-between">
      <div class="flex text-white">
        <fa-icon [icon]="faClockRotateLeft" class="mr-2"></fa-icon> <p>{{'HISTORY_WITHDRAWALS' | translate}}</p>
      </div>
    </div>
    <div class="bg-violet-orange-first p-4 rounded-2xl shadow-2xl" *ngIf="histories.length">
      <div class="relative overflow-x-auto">
        <table class="w-full text-sm text-left text-white">
          <thead class="text-xs text-white capitalize">
          <tr>
            <th scope="col" class="px-6 py-3">
              {{'ORDER_NUMBER' | translate}}
            </th>
            <th scope="col" class="px-6 py-3">
              {{'ORDER_AMOUNT' | translate}}
            </th>
            <th scope="col" class="px-6 py-3">
              {{'DATE_ADDED' | translate}}
            </th>
            <th scope="col" class="px-6 py-3">
              Статус
            </th>
          </tr>
          </thead>
          <tbody>
          <tr class="rounded-2xl my-2 border-b border-gray-300" *ngFor="let history of histories">
            <td class="px-6 py-4">
              <div class="text-white">
                <div class="text-white font-bold">
                  {{history.id}}
                </div>
              </div>
            </td>
            <td class="px-6 py-4">
              <div class="text-white">
                <div class="text-white font-bold">
                  {{history.cash.balance}}
                </div>
              </div>
            </td>
            <td class="px-6 py-4">
              <div class="text-white">
                <div class="text-white font-bold">
                  {{moment(history.created_at).format('DD.MM.y')}}
                </div>
              </div>
            </td>
            <td class="px-6 py-4">
              <div class="text-white">
                <div class="text-white font-bold" [innerHTML]="history.status ? (getStatusText(('SUCCESS_STATUS'|translate), true) | safeHtml) : (getStatusText(('WAITING_STATUS'|translate), false) | safeHtml)"></div>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<ngx-smart-modal identifier="instruction" [customClass]="'buySubscriptionModal'">
  <div class="rounded overflow-hidden text-white">
    <div class="py-4">
      <div class="font-bold text-xl mb-2">{{'CALL_FRIEND' | translate}}</div>
      <p class="text-base">{{'EARN_WAY_1' | translate}}</p>
      <p class="text-base">{{'EARN_WAY_2' | translate}}</p>
      <p class="text-base">{{'EARN_WAY_3' | translate}}</p>
      <p class="text-base">{{'EARN_WAY_4' | translate}}</p>
    </div>
    <div *ngIf="userMe" class="px-6 pt-4 pb-2 text-center" (click)="copyRefCode(userMe.refCode)">
      <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 cursor-pointer">
        {{userMe.refCode}}
      </span>
    </div>
  </div>
</ngx-smart-modal>

<ngx-smart-modal identifier="getPhone" [customClass]="'buySubscriptionModal'">
  <div class="max-w-md mx-auto rounded py-8">
    <h1 class="text-md font-bold mb-4 text-white">{{'WITHDRAW_CONTACT' | translate}}</h1>
    <form (ngSubmit)="requestWithdraw()" [formGroup]="requestWithdrawForm">
      <div class="mb-4">
        <core-input>
          <div class="mt-2.5 mr-0 mb-2.5 ml-0">
            <label class="block text-sm font-medium text-white">{{'PHONE' | translate}}</label>
            <div class="mt-1 mr-0 mb-0 ml-0 rounded-md shadow-sm relative">
                    <span class="flex absolute inset-y-0 left-0 pl-3 items-center pointer-events-none text-gray-400">
                      <fa-icon [icon]="faPhone"></fa-icon>
                    </span>
              <input showError name="phone" [controlName]="'PHONE' | translate" [formControlName]="'phone'" [inputMask]="phone_mask" type="text" placeholder="+7 777 777 7777" class="focus:ring-indigo-500 focus:border-indigo-500
                  sm:text-sm w-full h-10 block border-gray-300 border shadow-sm pt-0 pr-0 pb-0 pl-10 rounded-md"/>
            </div>
          </div>
        </core-input>
      </div>

      <button
        [ngClass]="requestWithdrawForm.valid ? 'cursor-pointer' : 'cursor-not-allowed'"
        [disabled]="!requestWithdrawForm.valid"
        type="button" (click)="requestWithdraw()" class="transition-all duration-200 border-transparent
                      focus:outline-none focus:ring-2 focus:ring-offset-2 text-white
                      rounded-full bg-violet-first main-violet-first-rounded
                      capitalize inline-flex border items-center justify-center w-full text-sm font-bold
                      text-center py-3">{{"SEND"|translate}}</button>
    </form>
  </div>
</ngx-smart-modal>
